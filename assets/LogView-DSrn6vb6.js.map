{"version":3,"file":"LogView-DSrn6vb6.js","sources":["../../src/components/ftbot/LogViewer.vue","../../src/views/LogView.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-flex h-100 p-0 align-items-start\">\r\n    <div ref=\"scrollContainer\" class=\"border p-1 text-start pb-5 w-100 h-100 overflow-auto\">\r\n      <pre\r\n        v-for=\"(log, index) in botStore.activeBot.lastLogs\"\r\n        :key=\"index\"\r\n        class=\"m-0 overflow-visible\"\r\n        style=\"line-height: unset\"\r\n      ><span class=\"text-muted\">{{ log[0] }} <span :class=\"getLogColor(log[3])\">{{ log[3].padEnd(7, ' ') }}</span> {{ log[2] }} - </span><span class=\"text-{{ log[1] }}\">{{ log[4] }}</span\r\n        ></pre>\r\n    </div>\r\n    <div class=\"d-flex flex-column gap-1 ms-1\">\r\n      <b-button id=\"refresh-logs\" size=\"sm\" title=\"Reload Logs\" @click=\"refreshLogs\">\r\n        <i-mdi-refresh />\r\n      </b-button>\r\n      <b-button size=\"sm\" title=\"Scroll to bottom\" @click=\"scrollToBottom\">\r\n        <i-mdi-arrow-down-thick />\r\n      </b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { useBotStore } from '@/stores/ftbotwrapper';\r\n\r\nconst botStore = useBotStore();\r\nconst scrollContainer = ref<HTMLElement | null>(null);\r\n\r\nonMounted(async () => {\r\n  refreshLogs();\r\n});\r\n\r\nasync function refreshLogs() {\r\n  await botStore.activeBot.getLogs();\r\n  scrollToBottom();\r\n}\r\n\r\nfunction getLogColor(logLevel: string) {\r\n  switch (logLevel) {\r\n    case 'WARNING':\r\n      return 'text-warning';\r\n    case 'ERROR':\r\n      return 'text-danger';\r\n    default:\r\n      return 'text-secondary';\r\n  }\r\n}\r\n\r\nfunction scrollToBottom() {\r\n  if (scrollContainer.value) {\r\n    scrollContainer.value.scrollTop = scrollContainer.value.scrollHeight;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ntextarea {\r\n  width: 100%;\r\n  min-height: 6em;\r\n  resize: none;\r\n  font-size: $fontsize-small;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"p-1 p-md-4 pe-md-2 h-100\">\r\n    <LogViewer />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\"></script>\r\n\r\n<style scoped></style>\r\n"],"names":["botStore","useBotStore","scrollContainer","ref","onMounted","refreshLogs","scrollToBottom","getLogColor","logLevel","_openBlock","_createElementBlock","_hoisted_1"],"mappings":"wlBAyBA,MAAMA,EAAWC,IACXC,EAAkBC,EAAwB,IAAI,EAEpDC,EAAU,SAAY,CACRC,GAAA,CACb,EAED,eAAeA,GAAc,CACrB,MAAAL,EAAS,UAAU,UACVM,GACjB,CAEA,SAASC,EAAYC,EAAkB,CACrC,OAAQA,EAAU,CAChB,IAAK,UACI,MAAA,eACT,IAAK,QACI,MAAA,cACT,QACS,MAAA,gBACX,CACF,CAEA,SAASF,GAAiB,CACpBJ,EAAgB,QACFA,EAAA,MAAM,UAAYA,EAAgB,MAAM,aAE5D,suBClDiBO,EAAA,EAAAC,EAAA,MAAAC,EAAA"}